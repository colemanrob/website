<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title></title>
    <link>/</link>
      <atom:link href="/index.xml" rel="self" type="application/rss+xml" />
    <description></description>
    <generator>Source Themes Academic (https://sourcethemes.com/academic/)</generator><language>en-us</language><copyright>Â© 2017 - 2020 Rob Coleman</copyright><lastBuildDate>Sat, 01 Jun 2030 13:00:00 +0000</lastBuildDate>
    <image>
      <url>/images/icon_hudbb411c2d94366f168d6aa78f52f5e7d_25002_512x512_fill_lanczos_center_2.png</url>
      <title></title>
      <link>/</link>
    </image>
    
    <item>
      <title>Chapter 1</title>
      <link>/courses/stat_rethink/chapter1/</link>
      <pubDate>Sun, 05 May 2019 00:00:00 +0100</pubDate>
      <guid>/courses/stat_rethink/chapter1/</guid>
      <description>&lt;h2 id=&#34;philosophy-of-science&#34;&gt;Philosophy of Science&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;McElreath offers good insights on the philosophy of science and calls for &lt;em&gt;statistical rethinking&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;statistical models are like the golum of prague, unthinking instruction followers.
&lt;ul&gt;
&lt;li&gt;bad/poor instructions will destroy Prague&lt;/li&gt;
&lt;li&gt;bad/poor models will compute but not tell us anything&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;
&lt;h2 id=&#34;bayesian-toolkit&#34;&gt;Bayesian Toolkit&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;instead we need a broader toolkit to build models and understand the causes:
&lt;ol&gt;
&lt;li&gt;Bayesian data analysis &amp;ndash; counting the number of ways the data could have happened given our assumptions&lt;/li&gt;
&lt;li&gt;Model comparison &amp;ndash; using cross-validation and information criteria to compare models predictions&lt;/li&gt;
&lt;li&gt;Multi-level models &amp;ndash; accounting for unmeasured aspects of individuals, groups, or populations.&lt;/li&gt;
&lt;li&gt;Graphical causal models &amp;ndash; designing models for the purposes of &lt;em&gt;identifying&lt;/em&gt; causes&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    <item>
      <title>Chapter 2</title>
      <link>/courses/stat_rethink/chapter2/</link>
      <pubDate>Sun, 05 May 2019 00:00:00 +0100</pubDate>
      <guid>/courses/stat_rethink/chapter2/</guid>
      <description>&lt;h2 id=&#34;building-up-bayesian-inference&#34;&gt;Building up Bayesian Inference&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;em&gt;small&lt;/em&gt; world (the model) vs &lt;em&gt;large&lt;/em&gt; world (reality) - goal of science is to help us move between&lt;/li&gt;
&lt;li&gt;bayesian inference is counting and comparing possibilities, the garden of forking data&lt;/li&gt;
&lt;li&gt;globe tossing example.  Variables:
&lt;ul&gt;
&lt;li&gt;9 tosses - n = 9&lt;/li&gt;
&lt;li&gt;W water x 6&lt;/li&gt;
&lt;li&gt;L land x 3&lt;/li&gt;
&lt;li&gt;&lt;em&gt;p&lt;/em&gt; proportion of globe covered by water - parameters (unobserved variables)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;
&lt;h2 id=&#34;likelihood&#34;&gt;Likelihood&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;the number of ways the data are possible after eliminating the ways that are inconsistent with out data (i.e. counting the garden)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The relative number of ways of getting 6 water, holding &lt;em&gt;p&lt;/em&gt; at 0.5, and &lt;em&gt;N = L+W&lt;/em&gt; at 9.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;dbinom(6, size = 9, prob = 0.5)
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 0.1640625
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;prior&#34;&gt;Prior&lt;/h2&gt;
&lt;p&gt;&lt;em&gt;p&lt;/em&gt; (the probability of sampling water) is the &lt;em&gt;parameter&lt;/em&gt; of the model.  For every parameter in your model you must provide a distribution of &lt;em&gt;prior plausibility&lt;/em&gt;.  Where do priors come from?  Engineering choice, domain knowledge etc.&lt;/p&gt;
&lt;h2 id=&#34;posterior&#34;&gt;Posterior&lt;/h2&gt;
&lt;p&gt;Update the prior given the data - for every unique combination of data, likelihood, parameters and prior there is a unique &lt;em&gt;posterior distribution&lt;/em&gt; &amp;ndash; &lt;span class=&#34;markup-quote&#34;&gt;the relative plausibility of different parameter values conditional on the data&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;Bayesian Updating&lt;/p&gt;
&lt;p&gt;3 different conditioning engines or techniques for computing posterior distributions:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;grid approximation&lt;/li&gt;
&lt;li&gt;quadratic approximation&lt;/li&gt;
&lt;li&gt;markov chain monte carlo (MCMC)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;grid-approximation&#34;&gt;Grid Approximation&lt;/h2&gt;
&lt;p&gt;Constrain the possible parameter values to only a finite grid of values.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;# define grid
p_grid &amp;lt;- seq(from = 0, to = 1, length.out = 20)

# define prior

prior &amp;lt;- rep(1, 20)

# compute likelihood at each value in grid

likelihood &amp;lt;- dbinom(6, size = 9, prob = p_grid)

# compute the product of likelihood and prior

unstd_posterior &amp;lt;- likelihood * prior

# standardize the posterior so it sums to 1

posterior &amp;lt;- unstd_posterior / sum(unstd_posterior)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;plot the results&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;plot(p_grid, posterior, type = &amp;quot;b&amp;quot;,
     xlab = &amp;quot;probability of water&amp;quot;, ylab = &amp;quot;posterior probability&amp;quot;)
mtext(&amp;quot;20 points&amp;quot;)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/courses/stat_rethink/chapter2_files/figure-html/unnamed-chunk-3-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;h2 id=&#34;quadratic-approximation&#34;&gt;Quadratic Approximation&lt;/h2&gt;
&lt;p&gt;Find the peak/curve of the distribution&lt;/p&gt;
&lt;p&gt;use the &lt;code&gt;quap&lt;/code&gt; function from the rethinking package&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;library(rethinking)

# specify
globe_qa &amp;lt;- quap(
  alist(
    W ~ dbinom(W+L, p), #binomial likelihood
    p ~ dunif(0,1) # uniform prior
  ),
  data = list(W=6, L=3)
)

# display the summary

precis(globe_qa)
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##        mean        sd      5.5%     94.5%
## p 0.6666665 0.1571338 0.4155363 0.9177967
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;mcmc&#34;&gt;MCMC&lt;/h2&gt;
&lt;p&gt;Instead of computing or approximating the posterior distribution, MCMC draws samples from the posterior - you end up with samples whose frequencies correspond to posterior plausibilities.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;n_samples &amp;lt;- 1000

p &amp;lt;- rep(NA, n_samples)

p[1] &amp;lt;- 0.5

W &amp;lt;- 6
L &amp;lt;- 3

for (i in 2:n_samples) {
  p_new &amp;lt;- rnorm(1, p[i-1], 0.1)
  if (p_new &amp;lt; 0 ) p_new &amp;lt;- abs(p_new)
  if (p_new &amp;gt; 1 ) p_new &amp;lt;- 2 - p_new
  q0 &amp;lt;- dbinom(W, W+L, p[i-1])
  q1 &amp;lt;- dbinom(W, W+L, p_new)
  p[i] &amp;lt;- ifelse(runif(1) &amp;lt; q1/q0, p_new, p[i-1])
}

dens(p, xlim=c(0,1))

curve(dbeta(x, W+1, L+1), lty = 2, add=TRUE)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/courses/stat_rethink/chapter2_files/figure-html/unnamed-chunk-5-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Chapter 3</title>
      <link>/courses/stat_rethink/chapter3/</link>
      <pubDate>Sun, 05 May 2019 00:00:00 +0100</pubDate>
      <guid>/courses/stat_rethink/chapter3/</guid>
      <description>&lt;h2 id=&#34;sampling-from-the-imaginary&#34;&gt;Sampling from the imaginary&lt;/h2&gt;
&lt;p&gt;Now let&amp;rsquo;s sample from the posterior&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;p_grid &amp;lt;- seq( from=0, to=1, length.out = 1000)

prob_p &amp;lt;- rep(1, 1000)

prob_data &amp;lt;- dbinom(6, size=9, prob= p_grid)

posterior &amp;lt;- prob_data * prob_p


posterior &amp;lt;- posterior / sum(posterior)
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;samples &amp;lt;- sample(p_grid, prob = posterior, size=1e4, replace = TRUE)
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;plot(samples)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/courses/stat_rethink/chapter3_files/figure-html/unnamed-chunk-3-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;library(rethinking)

dens(samples)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/courses/stat_rethink/chapter3_files/figure-html/unnamed-chunk-4-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;h2 id=&#34;intervals-of-defined-boundaries&#34;&gt;Intervals of defined boundaries&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;# add up posterior prob where p &amp;lt; 0.5

sum(posterior[p_grid &amp;lt; 0.5])
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 0.1718746
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;quantile(samples, 0.8)
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##       80% 
## 0.7607608
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;quantile(samples, c(0.1, 0.9))
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##       10%       90% 
## 0.4473473 0.8128128
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;PI(samples, prob = 0.5)
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##       25%       75% 
## 0.5415415 0.7387387
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;sampling-to-simulate-prediction&#34;&gt;Sampling to simulate prediction&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;dbinom(0:2, size=2, prob=0.7)
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 0.09 0.42 0.49
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;rbinom(10, size = 2, prob = 0.7)
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##  [1] 2 1 2 2 2 1 0 2 2 2
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;dummy_w &amp;lt;- rbinom(1e5, size = 9, prob = 0.7)

simplehist(dummy_w, xlab=&amp;quot;dummy water count&amp;quot;)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/courses/stat_rethink/chapter3_files/figure-html/unnamed-chunk-10-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Example Talk</title>
      <link>/talk/example/</link>
      <pubDate>Sat, 01 Jun 2030 13:00:00 +0000</pubDate>
      <guid>/talk/example/</guid>
      <description>&lt;div class=&#34;alert alert-note&#34;&gt;
  &lt;div&gt;
    Click on the &lt;strong&gt;Slides&lt;/strong&gt; button above to view the built-in slides feature.
  &lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Slides can be added in a few ways:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Create&lt;/strong&gt; slides using Academic&amp;rsquo;s 
&lt;a href=&#34;https://sourcethemes.com/academic/docs/managing-content/#create-slides&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&lt;em&gt;Slides&lt;/em&gt;&lt;/a&gt; feature and link using &lt;code&gt;slides&lt;/code&gt; parameter in the front matter of the talk file&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Upload&lt;/strong&gt; an existing slide deck to &lt;code&gt;static/&lt;/code&gt; and link using &lt;code&gt;url_slides&lt;/code&gt; parameter in the front matter of the talk file&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Embed&lt;/strong&gt; your slides (e.g. Google Slides) or presentation video on this page using 
&lt;a href=&#34;https://sourcethemes.com/academic/docs/writing-markdown-latex/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;shortcodes&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Further talk details can easily be added to this page using &lt;em&gt;Markdown&lt;/em&gt; and $\rm \LaTeX$ math code.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Notes on Allocating Resources</title>
      <link>/notes/notes-on-allocation/</link>
      <pubDate>Sat, 06 Jun 2020 00:00:00 +0000</pubDate>
      <guid>/notes/notes-on-allocation/</guid>
      <description>&lt;h2 id=&#34;targeting-labour-market-programmes--results-from-a-randomized-experiment&#34;&gt;Targeting labour market programmes â€” results from a randomized experiment&lt;/h2&gt;
&lt;p&gt;Stefanie Behncke, Markus FrÃ¶lich &amp;amp; Michael Lechner, 2009&lt;/p&gt;
&lt;p&gt;
&lt;a href=&#34;https://link.springer.com/article/10.1007/BF03399281&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;This research&lt;/a&gt; distinguishes between two types of statisical approaches to resource allocation in 
&lt;a href=&#34;https://en.wikipedia.org/wiki/Active_labour_market_policies&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;ALMPs&lt;/a&gt;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;em&gt;targeting&lt;/em&gt; which selects for each client the program with the highest expected outcome (based in the impact effect of each type of intervention), and;&lt;/li&gt;
&lt;li&gt;&lt;em&gt;profiling&lt;/em&gt; which based on a set of client characteristics, estimates the risk of becoming long term unemployed where those at the highest risk of being unemployed are assigned to the most intensive services&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The authors suggest that targeting is preferable to profiling when:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;there are a variety of types of programs/interventions offered, and/or;&lt;/li&gt;
&lt;li&gt;the risk of long-term unemployed is not highly correlated with program impacts&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;The authors detail the challenges of maximizing the allocation of ALMPs in practice - namely:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;moral hazard of employment agencies (&lt;em&gt;contracting challenge&lt;/em&gt;, more on this 
&lt;a href=&#34;https://robcoleman.ca/notes/notes-on-moral-hazard/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;here&lt;/a&gt;)
&lt;ul&gt;
&lt;li&gt;caseworkers have their own goals for clients (e.g. improving personal situation, long-term stability rather than rapid re-integration)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;caseworker prediction (&lt;em&gt;informational challenge&lt;/em&gt;)
&lt;ul&gt;
&lt;li&gt;small sample sizes to build intuition on what works (no view of the system)&lt;/li&gt;
&lt;li&gt;no systematic evidence of outcomes/success (e.g. clients maye return but to a difference provider/caseworker)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The authors review a pilot study in Switzerland where PES caseworkers were randomized into 2 groups, one who had access to statistical targeting tools and one where no prediction support was offered.  The design was robust:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;randomization at the caseworker level&lt;/li&gt;
&lt;li&gt;1 year study from 2005 to 2006&lt;/li&gt;
&lt;li&gt;over 18k jobseekers in the prediction group&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The conclusions were as follows:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;the statistical predictions offered had no impact on program assignment&lt;/li&gt;
&lt;li&gt;caseworkers made their own predictions and ignored the model&lt;/li&gt;
&lt;li&gt;incentives are required when caseworker discretion is at odds with the model&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;evaluating-profiling-as-a-means-of-allocating-government-services&#34;&gt;Evaluating Profiling as a Means of Allocating Government Services&lt;/h2&gt;
&lt;p&gt;Berger, Black and Smith, 2000&lt;/p&gt;
&lt;p&gt;
&lt;a href=&#34;https://ir.lib.uwo.ca/economicsresrpt/356/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;This research&lt;/a&gt; considers how to evaluate statistical profiling methods in allocation mechanisms for government programs.&lt;/p&gt;
&lt;p&gt;More notes to come&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Type Convert</title>
      <link>/code/type-convert/</link>
      <pubDate>Sun, 31 May 2020 00:00:00 +0000</pubDate>
      <guid>/code/type-convert/</guid>
      <description>&lt;p&gt;Never noticed &lt;code&gt;type_convert&lt;/code&gt; from &lt;code&gt;readr&lt;/code&gt; that lets you wrangle data and then convert as appropriate.  Let&amp;rsquo;s give it a spin.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;library(tidyverse)

typical_data &amp;lt;- tribble(~bad_col,
                        &amp;quot;3_apple&amp;quot;,
                        &amp;quot;4_banana&amp;quot;)

typical_data %&amp;gt;% 
  separate(bad_col, into = c(&amp;quot;n&amp;quot;, &amp;quot;fruit&amp;quot;), sep = &amp;quot;_&amp;quot;) %&amp;gt;% 
  type_convert()
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 2 x 2
##       n fruit 
##   &amp;lt;dbl&amp;gt; &amp;lt;chr&amp;gt; 
## 1     3 apple 
## 2     4 banana
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Perfect!&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Notes on fuzzy matching</title>
      <link>/code/notes-on-fuzzy-matching/</link>
      <pubDate>Sat, 05 Oct 2019 00:00:00 +0000</pubDate>
      <guid>/code/notes-on-fuzzy-matching/</guid>
      <description>&lt;p&gt;Recently had the pleasure of fuzzy matching two datasets that included first and last name and date of birth.  Here are some notes:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;a href=&#34;https://github.com/dgrtwo/fuzzyjoin&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;fuzzyjoin package&lt;/a&gt; - great functions that do most of the heavy lifting&lt;/li&gt;
&lt;li&gt;
&lt;a href=&#34;http://finzi.psych.upenn.edu/library/stringdist/html/stringdist-metrics.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;string metrics&lt;/a&gt; - there are a lot of ways to measure the difference in strings, selecting a metric depends on the problem&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;toy-example&#34;&gt;Toy Example&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;library(tidyverse)
library(fuzzyjoin)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Create our list of names and dobs.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;inside_list &amp;lt;- tribble(
  ~first, ~last, ~dob,
  &amp;quot;frank&amp;quot;, &amp;quot;johnson&amp;quot;, &amp;quot;1980-01-01&amp;quot;,
  &amp;quot;debbie&amp;quot;, &amp;quot;willis&amp;quot;, &amp;quot;1982-01-01&amp;quot;
) %&amp;gt;% mutate(dob = parse_date(dob, format = &amp;quot;%Y-%m-%d&amp;quot;))
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Create a second list to be matched against&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;outside_list &amp;lt;- tribble(
  ~first, ~last, ~dob,
  &amp;quot;frank&amp;quot;, &amp;quot;johnson&amp;quot;, &amp;quot;1980-01-01&amp;quot;,
  &amp;quot;debrah&amp;quot;, &amp;quot;willis&amp;quot;, &amp;quot;1982-01-02&amp;quot;
) %&amp;gt;% mutate(dob = parse_date(dob, format = &amp;quot;%Y-%m-%d&amp;quot;))
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Use the function of your choice.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;stringdist_join(outside_list, inside_list,
                by = c(&amp;quot;first&amp;quot;, &amp;quot;last&amp;quot;, &amp;quot;dob&amp;quot;),
                ignore_case = TRUE,
                distance_col = &amp;quot;dist&amp;quot;,
                mode = &amp;quot;left&amp;quot;,
                method = &amp;quot;lv&amp;quot;,
                max_dist = 20) %&amp;gt;% 
  mutate(total_distance = dob.dist + first.dist + last.dist) %&amp;gt;% 
  select(-ends_with(&amp;quot;.dist&amp;quot;)) %&amp;gt;% 
  knitr::kable()
&lt;/code&gt;&lt;/pre&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th align=&#34;left&#34;&gt;first.x&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;last.x&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;dob.x&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;first.y&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;last.y&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;dob.y&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;dist&lt;/th&gt;
&lt;th align=&#34;right&#34;&gt;total_distance&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;frank&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;johnson&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;1980-01-01&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;frank&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;johnson&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;1980-01-01&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;NA&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;frank&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;johnson&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;1980-01-01&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;debbie&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;willis&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;1982-01-01&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;NA&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;14&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;debrah&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;willis&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;1982-01-02&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;frank&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;johnson&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;1980-01-01&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;NA&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;14&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;debrah&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;willis&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;1982-01-02&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;debbie&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;willis&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;1982-01-01&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;NA&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;4&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;You can see the difference between &lt;em&gt;debrah&lt;/em&gt; and &lt;em&gt;debbie&lt;/em&gt; is 4.&lt;/p&gt;
&lt;p&gt;Setting the distance threshold is often a function of how exact you want the matches to be.&lt;/p&gt;
&lt;p&gt;See the 
&lt;a href=&#34;http://varianceexplained.org/fuzzyjoin/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;fuzzyjoin&lt;/a&gt; reference for more.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Notes on Employment Barriers</title>
      <link>/notes/notes-on-employment-barriers/</link>
      <pubDate>Sun, 04 Aug 2019 00:00:00 +0000</pubDate>
      <guid>/notes/notes-on-employment-barriers/</guid>
      <description>&lt;p&gt;Rodrigo Fernandezi, Herwig Immervolli, Daniele Pacificoi and CÃ©line ThÃ©venoti, 2016&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;a href=&#34;https://www.oecd-ilibrary.org/social-issues-migration-health/faces-of-joblessness_5jlwvz47xptj-en?crawler=true&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;this research&lt;/a&gt; advances new methods to categorize employment barriers among jobseekers so as to design appropriately tailored activation responses across policy and institutional domains.&lt;/li&gt;
&lt;li&gt;little is known about specific employment barriers at the individual level, instead broad proxies are used to describe populations (NEET, older workers etc)&lt;/li&gt;
&lt;li&gt;instead the authors try a &lt;em&gt;bottom up&lt;/em&gt; approach by categorizing and measuring employment barriers&lt;/li&gt;
&lt;li&gt;using &lt;em&gt;latest class analysis&lt;/em&gt; (LDA), a clustering method, the authors find more useful groups of jobseekers who share common employment barriers by analyzing the European Union Statisitcs on Income and Living Conditions (EU SILC) 
&lt;a href=&#34;https://ec.europa.eu/eurostat/web/microdata/european-union-statistics-on-income-and-living-conditions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;available here&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;types-of-employment-barriers&#34;&gt;Types of Employment Barriers&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;lack of work-relateed capabilities
&lt;ul&gt;
&lt;li&gt;a range of factors that may limit an individuals&amp;rsquo; capacity to perform a specific task (e.g. lack of educations, skills or work experience, care responsibilities, or health limitations)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;lack of work incentives
&lt;ul&gt;
&lt;li&gt;weak incentives to look for or accept a good job - (e.g. low pay, generous out of work benefits)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;lack of employment opportunities (regional)
&lt;ul&gt;
&lt;li&gt;a small number of vacancies in the labour market segment due to information asymmetries, skills mismatches, discrimination&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    <item>
      <title>An example preprint / working paper</title>
      <link>/publication/preprint/</link>
      <pubDate>Sun, 07 Apr 2019 00:00:00 +0000</pubDate>
      <guid>/publication/preprint/</guid>
      <description>&lt;div class=&#34;alert alert-note&#34;&gt;
  &lt;div&gt;
    Click the &lt;em&gt;Slides&lt;/em&gt; button above to demo Academic&amp;rsquo;s Markdown slides feature.
  &lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Supplementary notes can be added here, including 
&lt;a href=&#34;https://sourcethemes.com/academic/docs/writing-markdown-latex/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;code and math&lt;/a&gt;.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Analyzing Commuting Patterns in Ontario</title>
      <link>/code/analyzing-commuting-patterns-in-ontario/</link>
      <pubDate>Sun, 03 Mar 2019 00:00:00 +0000</pubDate>
      <guid>/code/analyzing-commuting-patterns-in-ontario/</guid>
      <description>&lt;p&gt;I was inspired by 
&lt;a href=&#34;http://varianceexplained.org/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;David Robinson&lt;/a&gt;&amp;lsquo;s latest webcast in which he made a heatmap of French train delays using &lt;code&gt;geom_tile&lt;/code&gt; and wanted to try it out for myself.&lt;/p&gt;
&lt;center&gt;
&lt;blockquote class=&#34;twitter-tweet&#34;&gt;&lt;p lang=&#34;en&#34; dir=&#34;ltr&#34;&gt;In this week&amp;#39;s &lt;a href=&#34;https://twitter.com/hashtag/tidytuesday?src=hash&amp;amp;ref_src=twsrc%5Etfw&#34;&gt;#tidytuesday&lt;/a&gt; screencast, I analyze delays in French train stations ðŸ‡«ðŸ‡·ðŸš„&lt;br&gt;&lt;br&gt;I show how to create heatmaps of delays (inspired by &lt;a href=&#34;https://twitter.com/noccaea?ref_src=twsrc%5Etfw&#34;&gt;@noccaea&lt;/a&gt;!), and embarrass myself with even the simplest French pronunciations&lt;a href=&#34;https://t.co/zBrkIkdcCz&#34;&gt;https://t.co/zBrkIkdcCz&lt;/a&gt; &lt;a href=&#34;https://twitter.com/hashtag/rstats?src=hash&amp;amp;ref_src=twsrc%5Etfw&#34;&gt;#rstats&lt;/a&gt; &lt;a href=&#34;https://t.co/RI7ZpxV89X&#34;&gt;pic.twitter.com/RI7ZpxV89X&lt;/a&gt;&lt;/p&gt;&amp;mdash; David Robinson (@drob) &lt;a href=&#34;https://twitter.com/drob/status/1100456189752688640?ref_src=twsrc%5Etfw&#34;&gt;February 26, 2019&lt;/a&gt;&lt;/blockquote&gt;
&lt;script async src=&#34;https://platform.twitter.com/widgets.js&#34; charset=&#34;utf-8&#34;&gt;&lt;/script&gt;

&lt;/center&gt;
&lt;p&gt;I don&amp;rsquo;t have a lot of opportunities to use heatmaps, but recently Statcan has released their 
&lt;a href=&#34;https://www12.statcan.gc.ca/census-recensement/2016/rt-td/jtw-ddt-eng.cfm&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Journey to Work&lt;/a&gt; data as part of the 2016 Census.  I wanted to see if I could use a heatmap to understand the commuting patterns in communities in southern Ontario.&lt;/p&gt;
&lt;h3 id=&#34;load-packages&#34;&gt;Load packages&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;library(tidyverse)
library(cancensus)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;I downloaded the 
&lt;a href=&#34;https://www12.statcan.gc.ca/census-recensement/2016/dp-pd/dt-td/Rp-eng.cfm?LANG=E&amp;amp;APATH=3&amp;amp;DETAIL=0&amp;amp;DIM=0&amp;amp;FL=A&amp;amp;FREE=0&amp;amp;GC=0&amp;amp;GID=0&amp;amp;GK=0&amp;amp;GRP=1&amp;amp;PID=113344&amp;amp;PRID=10&amp;amp;PTYPE=109445&amp;amp;S=0&amp;amp;SHOWALL=0&amp;amp;SUB=0&amp;amp;Temporal=2017&amp;amp;THEME=125&amp;amp;VID=0&amp;amp;VNAMEE=&amp;amp;VNAMEF=&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;commuting table&lt;/a&gt; from statscan because I couldn&amp;rsquo;t find it using the &lt;code&gt;cancensus&lt;/code&gt; package.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;raw_commute &amp;lt;- read_csv(&amp;quot;~/projects/R stuff/commute/98-400-X2016391_English_CSV_data.csv&amp;quot;) %&amp;gt;% 
    janitor::clean_names() %&amp;gt;% 
    select(code = geo_code_por,
           live = geo_name,
           work = geo_name_1,
           total = dim_sex_3_member_id_1_total_sex)
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;# filter only those whose code starts w/ 35 (Ontario)
ontario_commute &amp;lt;- raw_commute %&amp;gt;% 
    filter(str_detect(code, pattern = &amp;quot;^35&amp;quot;)) 
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;download-geography-data&#34;&gt;Download geography data&lt;/h3&gt;
&lt;p&gt;I was able to retrieve the working age population and census division geographies using &lt;code&gt;cancensus&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;library(cancensus)
library(sf)
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Linking to GEOS 3.7.0, GDAL 2.3.2, PROJ 5.2.0
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;# create list of ontario census divisions to pass to cancensus
regions_list_ontario &amp;lt;- list_census_regions(&amp;quot;CA16&amp;quot;) %&amp;gt;% 
  filter(str_detect(region, pattern = &amp;quot;^35&amp;quot;))  %&amp;gt;% 
  as_census_region_list
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Querying CensusMapper API for regions data...
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;pop_data &amp;lt;- get_census(&amp;quot;CA16&amp;quot;,
                           regions = regions_list_ontario,
                           vectors = &amp;quot;v_CA16_61&amp;quot;,
                           level = &amp;quot;CD&amp;quot;,
                       geo_format = &amp;quot;sf&amp;quot;, labels = &amp;quot;short&amp;quot;) %&amp;gt;% 
  janitor::clean_names()
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;# clean
pop_data %&amp;gt;% 
  mutate(working_age = v_ca16_61) %&amp;gt;% 
  mutate(code = as.double(geo_uid)) %&amp;gt;% 
  select(code, working_age, shape_area, geometry) -&amp;gt; pop_data_clean
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;joining-the-tables-together&#34;&gt;Joining the tables together&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;# remove commuting within cd, compute totals
ontario_commute %&amp;gt;% 
  filter(live != work) %&amp;gt;%
  group_by(live) %&amp;gt;% 
  mutate(total_commuters = sum(total),
         prop_commuters = total / total_commuters ) %&amp;gt;% 
  ungroup() %&amp;gt;% 
  left_join(pop_data_clean, by = &amp;quot;code&amp;quot;) %&amp;gt;% 
  group_by(work) %&amp;gt;% 
  mutate(total_commuters_destination = sum(total)) %&amp;gt;% 
  mutate(live_prop = total_commuters / working_age,
         work_prop = total / working_age ) %&amp;gt;% 
  ungroup() -&amp;gt; ontario_commute_clean
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;create-visualizations&#34;&gt;Create visualizations&lt;/h3&gt;
&lt;p&gt;Let&amp;rsquo;s see what visualizations will work.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;ontario_commute_clean %&amp;gt;% 
    filter(total &amp;gt;= 3000) %&amp;gt;% 
    mutate(live = str_wrap(live, width = 15)) %&amp;gt;% 
    mutate(live = fct_reorder(live, total)) %&amp;gt;% 
    mutate(work = fct_reorder(work, total)) %&amp;gt;% 
    ggplot(aes(live, work, fill = total)) +
    geom_tile(alpha = 0.7) +
    theme_light() +
    theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
    scale_fill_viridis_c(labels = scales::comma_format()) +
    labs(fill = &amp;quot;# of commuters&amp;quot;,
         title = &amp;quot;The largest number of commuters in Ontario are those who live in York, Peel and Durham who commute to Toronto for work&amp;quot;,
         subtitle = &amp;quot;Number of employed labour force aged 15+ who commute by Census Division - Minimum 3,000 commuters to be represented&amp;quot;,
         x = &amp;quot;Live - Census Division&amp;quot;,
         y = &amp;quot;Work - Census Division&amp;quot;,
         caption = &amp;quot;Data from Statistics Canada 2016 Canadian Census - Journey to Work \n https://www12.statcan.gc.ca/census-recensement/2016/rt-td/jtw-ddt-eng.cfm&amp;quot;)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/img/commute.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;map-the-proportions&#34;&gt;Map the proportions&lt;/h3&gt;
&lt;p&gt;I&amp;rsquo;m always trying to improve my mapping skills and &lt;code&gt;geom_sf&lt;/code&gt; makes it a lot easier.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;ontario_commute_clean %&amp;gt;% 
  filter((!live %in% c(&amp;quot;Rainy River&amp;quot;, &amp;quot;Kenora&amp;quot;, &amp;quot;Thunder Bay&amp;quot;, &amp;quot;Algoma&amp;quot;, &amp;quot;Nipissing&amp;quot;, 
                       &amp;quot;Cochrane&amp;quot;, &amp;quot;Greater Sudbury / Grand Sudbury&amp;quot;, &amp;quot;Manitoulin&amp;quot;,
                       &amp;quot;Timiskaming&amp;quot;, &amp;quot;Sudbury&amp;quot;, &amp;quot;Parry Sound&amp;quot;))) %&amp;gt;% 
  ggplot() +
  geom_sf(aes(fill = live_prop)) +
  scale_fill_viridis_c(&amp;quot;% Labour force who commute to work&amp;quot;, labels = scales::percent) + theme_minimal() +
  theme(panel.grid = element_blank(),
        axis.text = element_blank(),
        axis.ticks = element_blank()) + 
  coord_sf(datum=NA) +
  labs(title = &amp;quot;The % of the labour force (aged 15+) who commute by Census Division in Southern Ontario&amp;quot;)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/img/map.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Slides</title>
      <link>/slides/example/</link>
      <pubDate>Tue, 05 Feb 2019 00:00:00 +0000</pubDate>
      <guid>/slides/example/</guid>
      <description>&lt;h1 id=&#34;create-slides-in-markdown-with-academic&#34;&gt;Create slides in Markdown with Academic&lt;/h1&gt;
&lt;p&gt;
&lt;a href=&#34;https://sourcethemes.com/academic/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Academic&lt;/a&gt; | 
&lt;a href=&#34;https://sourcethemes.com/academic/docs/managing-content/#create-slides&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Documentation&lt;/a&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;features&#34;&gt;Features&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Efficiently write slides in Markdown&lt;/li&gt;
&lt;li&gt;3-in-1: Create, Present, and Publish your slides&lt;/li&gt;
&lt;li&gt;Supports speaker notes&lt;/li&gt;
&lt;li&gt;Mobile friendly slides&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2 id=&#34;controls&#34;&gt;Controls&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Next: &lt;code&gt;Right Arrow&lt;/code&gt; or &lt;code&gt;Space&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Previous: &lt;code&gt;Left Arrow&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Start: &lt;code&gt;Home&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Finish: &lt;code&gt;End&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Overview: &lt;code&gt;Esc&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Speaker notes: &lt;code&gt;S&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Fullscreen: &lt;code&gt;F&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Zoom: &lt;code&gt;Alt + Click&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;
&lt;a href=&#34;https://github.com/hakimel/reveal.js#pdf-export&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;PDF Export&lt;/a&gt;: &lt;code&gt;E&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2 id=&#34;code-highlighting&#34;&gt;Code Highlighting&lt;/h2&gt;
&lt;p&gt;Inline code: &lt;code&gt;variable&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Code block:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;porridge = &amp;quot;blueberry&amp;quot;
if porridge == &amp;quot;blueberry&amp;quot;:
    print(&amp;quot;Eating...&amp;quot;)
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h2 id=&#34;math&#34;&gt;Math&lt;/h2&gt;
&lt;p&gt;In-line math: $x + y = z$&lt;/p&gt;
&lt;p&gt;Block math:&lt;/p&gt;
&lt;p&gt;$$
f\left( x \right) = ;\frac{{2\left( {x + 4} \right)\left( {x - 4} \right)}}{{\left( {x + 4} \right)\left( {x + 1} \right)}}
$$&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;fragments&#34;&gt;Fragments&lt;/h2&gt;
&lt;p&gt;Make content appear incrementally&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;{{% fragment %}} One {{% /fragment %}}
{{% fragment %}} **Two** {{% /fragment %}}
{{% fragment %}} Three {{% /fragment %}}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Press &lt;code&gt;Space&lt;/code&gt; to play!&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;fragment &#34; &gt;
One
&lt;/span&gt;
&lt;span class=&#34;fragment &#34; &gt;
&lt;strong&gt;Two&lt;/strong&gt;
&lt;/span&gt;
&lt;span class=&#34;fragment &#34; &gt;
Three
&lt;/span&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;A fragment can accept two optional parameters:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;class&lt;/code&gt;: use a custom style (requires definition in custom CSS)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;weight&lt;/code&gt;: sets the order in which a fragment appears&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2 id=&#34;speaker-notes&#34;&gt;Speaker Notes&lt;/h2&gt;
&lt;p&gt;Add speaker notes to your presentation&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-markdown&#34;&gt;{{% speaker_note %}}
- Only the speaker can read these notes
- Press `S` key to view
{{% /speaker_note %}}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Press the &lt;code&gt;S&lt;/code&gt; key to view the speaker notes!&lt;/p&gt;
&lt;aside class=&#34;notes&#34;&gt;
  &lt;ul&gt;
&lt;li&gt;Only the speaker can read these notes&lt;/li&gt;
&lt;li&gt;Press &lt;code&gt;S&lt;/code&gt; key to view&lt;/li&gt;
&lt;/ul&gt;

&lt;/aside&gt;
&lt;hr&gt;
&lt;h2 id=&#34;themes&#34;&gt;Themes&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;black: Black background, white text, blue links (default)&lt;/li&gt;
&lt;li&gt;white: White background, black text, blue links&lt;/li&gt;
&lt;li&gt;league: Gray background, white text, blue links&lt;/li&gt;
&lt;li&gt;beige: Beige background, dark text, brown links&lt;/li&gt;
&lt;li&gt;sky: Blue background, thin dark text, blue links&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;ul&gt;
&lt;li&gt;night: Black background, thick white text, orange links&lt;/li&gt;
&lt;li&gt;serif: Cappuccino background, gray text, brown links&lt;/li&gt;
&lt;li&gt;simple: White background, black text, blue links&lt;/li&gt;
&lt;li&gt;solarized: Cream-colored background, dark green text, blue links&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;

&lt;section data-noprocess data-shortcode-slide
  
      
      data-background-image=&#34;/img/boards.jpg&#34;
  &gt;

&lt;h2 id=&#34;custom-slide&#34;&gt;Custom Slide&lt;/h2&gt;
&lt;p&gt;Customize the slide style and background&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-markdown&#34;&gt;{{&amp;lt; slide background-image=&amp;quot;/img/boards.jpg&amp;quot; &amp;gt;}}
{{&amp;lt; slide background-color=&amp;quot;#0000FF&amp;quot; &amp;gt;}}
{{&amp;lt; slide class=&amp;quot;my-style&amp;quot; &amp;gt;}}
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h2 id=&#34;custom-css-example&#34;&gt;Custom CSS Example&lt;/h2&gt;
&lt;p&gt;Let&amp;rsquo;s make headers navy colored.&lt;/p&gt;
&lt;p&gt;Create &lt;code&gt;assets/css/reveal_custom.css&lt;/code&gt; with:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-css&#34;&gt;.reveal section h1,
.reveal section h2,
.reveal section h3 {
  color: navy;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h1 id=&#34;questions&#34;&gt;Questions?&lt;/h1&gt;
&lt;p&gt;
&lt;a href=&#34;https://spectrum.chat/academic&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Ask&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;
&lt;a href=&#34;https://sourcethemes.com/academic/docs/managing-content/#create-slides&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Documentation&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Notes on Moral Hazard</title>
      <link>/notes/notes-on-moral-hazard/</link>
      <pubDate>Sun, 06 Jan 2019 00:00:00 +0000</pubDate>
      <guid>/notes/notes-on-moral-hazard/</guid>
      <description>&lt;h1 id=&#34;moral-hazard-in-almps&#34;&gt;Moral hazard in ALMPs&lt;/h1&gt;
&lt;p&gt;Bruttel, Oliver 2005&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;a href=&#34;https://www.econstor.eu/handle/10419/44013&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;This research&lt;/a&gt; reviews the mechanisms by which government can manage the risks (moral hazard) associated with contracting out of ALMPs using a 
&lt;a href=&#34;https://en.wikipedia.org/wiki/Principal%E2%80%93agent_problem&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;principal-agent theory&lt;/a&gt; lens.&lt;/li&gt;
&lt;li&gt;the author solves for the risks by advancing an integrated governance approach using 3 distinct governance mechanisms
&lt;ul&gt;
&lt;li&gt;incentives&lt;/li&gt;
&lt;li&gt;information&lt;/li&gt;
&lt;li&gt;control&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;reviews 3 countries (UK, Netherlands, Australia)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;principal-agent-theory-and-moral-hazard&#34;&gt;Principal-agent theory and moral hazard&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;concerned with how does govt (principal) ensure that service providers (agents) act in the govts interest&lt;/li&gt;
&lt;li&gt;main risk is &lt;em&gt;moral hazard&lt;/em&gt; where agents act in their own interest (maximising utility, risk avoidance etc) where principal cannot observe their actions&lt;/li&gt;
&lt;li&gt;moral hazard in ALMPs revolve around 3 key areas:
&lt;ul&gt;
&lt;li&gt;creaming - selecting only optimal clients for service&lt;/li&gt;
&lt;li&gt;parking - not serving clients with low success probability&lt;/li&gt;
&lt;li&gt;dead-weight - serving clients who would have otherwise been successful without intervention (not explicitly mentioned but described elsewhere)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;1-incentive-mechanisms&#34;&gt;1. Incentive mechanisms&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;outcomes-based payments&lt;/li&gt;
&lt;li&gt;split-fee works best (fixed &amp;amp; outcomes) rather than threshold based (like US) so that award function is linear&lt;/li&gt;
&lt;li&gt;measured as outputs (outcomes at 13 and 26 weeks are standard) rather than inputs (clients served)&lt;/li&gt;
&lt;li&gt;should optimize around under-investment i.e. skills training like Job Seeker Account (matching govt investment)&lt;/li&gt;
&lt;li&gt;common strategy to avoid moral hazard problems is to organize outcomes payments by client groups based on assessment tool (e.g. JSCI in AUS and Kansmeter in Netherlands)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;2--information-mechanisms&#34;&gt;2 . Information mechanisms&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;benchmarking - measure relative performance of providers
&lt;ul&gt;
&lt;li&gt;2 types of variables:  context (regional/local labour market) and jobseeker characteristics (age, duration of unemployment, skills etc)&lt;/li&gt;
&lt;li&gt;Australia 5 Star model gold standard - best 60% of providers are offered contract renewal without tender&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;monitoring - mix of database inputs and in-person
&lt;ul&gt;
&lt;li&gt;overcome blackbox problem&lt;/li&gt;
&lt;li&gt;irregularities flagged automatically&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;3-control-mechanisms&#34;&gt;3. Control mechanisms&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;rules and regulations (guidelines, eligibility, etc)&lt;/li&gt;
&lt;li&gt;quality management frameworks
&lt;ul&gt;
&lt;li&gt;set minimum standard of service&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;tied to monitoring and benchmarking&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;special-expertise&#34;&gt;Special expertise&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;identifies 3 types of capacities governments need
&lt;ul&gt;
&lt;li&gt;feasibility assessment capacity - &lt;em&gt;make-or-buy&lt;/em&gt; decisions about services&lt;/li&gt;
&lt;li&gt;Implementation capacity (&lt;em&gt;incentive mechanisms&lt;/em&gt;) tenders, selecting providers, negotiate contracts etc&lt;/li&gt;
&lt;li&gt;evaluation capacity (&lt;em&gt;information and control&lt;/em&gt;) - evaluate and monitor the performance of providers&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;institutional-moral-hazard-in-australia-pes&#34;&gt;Institutional moral hazard in Australia PES&lt;/h2&gt;
&lt;p&gt;F Vandenbroucke, C Luigjes, 2016&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;
&lt;a href=&#34;https://papers.ssrn.com/sol3/papers.cfm?abstract_id=2782375&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;This research&lt;/a&gt; outlines how Austrialia moved from a &lt;em&gt;blackbox&lt;/em&gt; approach to contracting out employment services towards a regime of minimum requirements and monitoring&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;reforms of the blackbox approach included:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;new tendering processes (see above)&lt;/li&gt;
&lt;li&gt;5 Star rating system for providers&lt;/li&gt;
&lt;li&gt;adjustment of provider responsibilities&lt;/li&gt;
&lt;li&gt;standardization of work process&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;relationship between govt &amp;amp; providers has been rocky as flexibility has been reduced&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;problems were creaming and parking&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;3 streams of service&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;stream A - job competitive&lt;/li&gt;
&lt;li&gt;stream B - vocational issues&lt;/li&gt;
&lt;li&gt;stream C - series non-vocational issues via referral&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Denmark devolved employment services to municipalities&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Work for the Dole targets long term barriered clients in an attempt to overcome parking (re-vamp of JCP?)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;the KPIs, outcomes based model also includes a bonus if referred to training&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;outcomes are based on location, stream and expediency (how fast) clients move to outcomes.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;





  











&lt;figure &gt;



  &lt;img src=&#34;/img/AUSmodel.png&#34; alt=&#34;&#34;  &gt;




&lt;/figure&gt;

</description>
    </item>
    
    <item>
      <title>Notes on outcomes in labour market programs</title>
      <link>/notes/notes-on-outcomes-in-labour-market-programs/</link>
      <pubDate>Tue, 01 Jan 2019 00:00:00 +0000</pubDate>
      <guid>/notes/notes-on-outcomes-in-labour-market-programs/</guid>
      <description>&lt;h2 id=&#34;estimating--the--impact--of--active--labour--market--programs--using-administrative--data--and--matching--methods&#34;&gt;Estimating  the  Impact  of  Active  Labour  Market  Programs  using Administrative  Data  and  Matching  Methods&lt;/h2&gt;
&lt;p&gt;Handouyahia, 2016&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;a href=&#34;https://www.statcan.gc.ca/eng/conferences/symposium2016/program/14740-eng.pdf&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;research&lt;/a&gt; link&lt;/li&gt;
&lt;li&gt;using admin data matched to CRA they find that EBSMs have positive effects on employment and earnings&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;findings&#34;&gt;Findings&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;EBSMs caused gains in employment earnings, incidence of employment (+2.4% first year to +4.4% by fifth year) and reduction of EI benefits after completing&lt;/li&gt;
&lt;li&gt;SD had most pronounced effect (between $204 and $4,059 higher)&lt;/li&gt;
&lt;li&gt;SD represents the largest incremental gains&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;labour--market--program--efficacy-evidence--from--ontario--works&#34;&gt;Labour  market  program  efficacy: Evidence  from  Ontario  Works&lt;/h2&gt;
&lt;p&gt;Adams et. al. 2018&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;working paper 
&lt;a href=&#34;https://www.dropbox.com/s/oyv8dqucbh5rhtw/Ontario_works.pdf?dl=0&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;here&lt;/a&gt; and cd howe report 
&lt;a href=&#34;https://www.cdhowe.org/public-policy-research/assessing-active-labour-market-programs-how-effective-ontario-works&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;here&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;how effective are OW ALMPs on two outcomes:
&lt;ul&gt;
&lt;li&gt;case duration (benefit &amp;lsquo;spell&amp;rsquo; measured in months)&lt;/li&gt;
&lt;li&gt;probability of returning to OW within 1 or 2 years of exit&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;this client group has weaker LM attachment and so not perfectly aligned to existing literature on ALMPs&lt;/li&gt;
&lt;li&gt;accordingly existing canadian work suggests this group is differentially affected by ALMPs&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;findings-1&#34;&gt;Findings&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;placement services extend OW spells by 16 months&lt;/li&gt;
&lt;li&gt;structured job search not having an effect on &amp;lsquo;return&amp;rsquo;&lt;/li&gt;
&lt;li&gt;training programs (literacy, skills/vocational) does reduce &amp;lsquo;return&amp;rsquo; by 07% year 1 and 1.1% year 2&lt;/li&gt;
&lt;li&gt;among all interventions there&amp;rsquo;s a trade-off between short and long term effectiveness
&lt;ul&gt;
&lt;li&gt;placement means longer spells but reduces &lt;em&gt;P(return)&lt;/em&gt; by 7% in year 1 and 10% year 2&lt;/li&gt;
&lt;li&gt;structured job search reduces spell by 1.5 - 3 months but doesn&amp;rsquo;t affect &lt;em&gt;P(return)&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;training program alone is more effective in the short-term than assignment to boht training program and structured job-search (implying the interventions aren&amp;rsquo;t additive)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    <item>
      <title>Notes on incentives in labour market programs</title>
      <link>/notes/notes-on-incentives-in-labour-market-programs/</link>
      <pubDate>Sun, 25 Nov 2018 00:00:00 +0000</pubDate>
      <guid>/notes/notes-on-incentives-in-labour-market-programs/</guid>
      <description>&lt;ul&gt;
&lt;li&gt;
&lt;a href=&#34;https://www.oecd-ilibrary.org/employment/how-demanding-are-activation-requirements-for-jobseekers_2bdfecca-en&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;this research&lt;/a&gt; evaluates the strictness of rules (eligibility criteria) that govern the receipt of benefits (first-tier/unemployment and second-tier/welfare) across OECD countries&lt;/li&gt;
&lt;li&gt;they establish what types of eligibility criteria are common across countries&lt;/li&gt;
&lt;li&gt;they surveyed each OECD country and derived a quantitative policy indicator of eligibility strictness of each scheme&lt;/li&gt;
&lt;li&gt;they discuss the impacts of the eligibility choices on first and second tier benefits (for Canada, they used Ontario Works) and marginally discuss administrative provisions (how clients interact with administration)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;eligibility-criteria&#34;&gt;Eligibility Criteria&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;entitlement conditions&lt;/strong&gt;: these are the rules set by the feds over which Ontario has little influence (e.g. how many hours of work before claim is established)&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;activity conditions&lt;/strong&gt; - behavioural requirements that must be met by those who have an established right (&amp;lsquo;entitlement&amp;rsquo;)
&lt;ul&gt;
&lt;li&gt;availability criteria
&lt;ul&gt;
&lt;li&gt;availability during ALMP participation (excuse for training/participation)&lt;/li&gt;
&lt;li&gt;occupational mobility - refuse based on NOC/less pay&lt;/li&gt;
&lt;li&gt;geography&lt;/li&gt;
&lt;li&gt;other valid reasons - canada only labour dispute&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;job-search and reporting criteria
&lt;ul&gt;
&lt;li&gt;frequency of job-search activity&lt;/li&gt;
&lt;li&gt;documentation of job-search&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;sanctions for non-compliance
&lt;ul&gt;
&lt;li&gt;voluntary resignation / quit&lt;/li&gt;
&lt;li&gt;refusal of suitable employment&lt;/li&gt;
&lt;li&gt;repeated refusal of employment&lt;/li&gt;
&lt;li&gt;refusal of ALMP participation&lt;/li&gt;
&lt;li&gt;repeated refusal of ALMP participation&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;first-tier-eligibility-criteria&#34;&gt;First Tier eligibility criteria&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;job search &amp;amp; reporting criteria vary strongly but availability criteria varies little to none
&lt;ul&gt;
&lt;li&gt;australia - job search now once a month and Denmark is entirely online&lt;/li&gt;
&lt;li&gt;Canada among lowest for job-search and reporting requirements&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;second-tier-criteria&#34;&gt;Second Tier criteria&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;availability criteria represent biggest difference between first and second tier benefit types&lt;/li&gt;
&lt;li&gt;two types of jurisdictions - 1 where SA clients don&amp;rsquo;t qualify (see Germany) and could be Canada and 2 - where rules are mostly identical - see UK&amp;rsquo;s jobseekers allowance&lt;/li&gt;
&lt;li&gt;rules are often less strict here to give local authorities more leeway to design appropriate solutions&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;insights&#34;&gt;Insights&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;warnings and sanctions generally are shown to shorten benefit duration and increase re-employment among those who may expect to incur a sanction (threat effects work)&lt;/li&gt;
&lt;li&gt;soft constraints like mandatory participation in AMLPs or gradual reductions of benefits levels over time have similar effects to those of harsher instruments like sanctions and dis-entitlements&lt;/li&gt;
&lt;li&gt;goal is to strengthen incentives to look/prepare for and accept employment and also target those more suitable&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;figures&#34;&gt;Figures&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;/img/screenshot.png&#34; alt=&#34;enter image description here&#34;&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Scraping Restaurant Inspection Reports</title>
      <link>/code/scraping-restaurant-inspection-reports/</link>
      <pubDate>Tue, 05 Dec 2017 00:00:00 +0000</pubDate>
      <guid>/code/scraping-restaurant-inspection-reports/</guid>
      <description>&lt;p&gt;
&lt;a href=&#34;http://www.algomapublichealth.com/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Algoma Public Health&lt;/a&gt; is the public health agency in my area that inspects restaurants to ensure they are abiding by all the relevant food safety legislation. They are also nice enough to publish their 
&lt;a href=&#34;http://www.algomapublichealth.com/inspections-environment/food-safety/restaurant-inspection-reports/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;restaurant health inspection reports&lt;/a&gt; online for anyone to review.&lt;/p&gt;
&lt;p&gt;I searched for a few restaurants that I frequent (phew 
&lt;a href=&#34;https://goo.gl/maps/rqj5goqwqeT2&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Fratellis&lt;/a&gt; is safe!) but then I wanted to know &lt;strong&gt;which restaurants had the most health infractions?&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Their website isn&amp;rsquo;t setup to answer that kind of question. Each inspection report is published as a unique page on their website which makes aggregating and comparing difficult.&lt;/p&gt;
&lt;p&gt;I used &lt;code&gt;rvest&lt;/code&gt; to scrape the URLs of all the reports APH published. Then I scraped the contents of the reports so that I could create a dataset that would allow me to aggregate and compare the results (the dataset and code 
&lt;a href=&#34;https://github.com/colemanrob/restoscrape/tree/master/data&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;available here&lt;/a&gt;.)&lt;/p&gt;
&lt;h2 id=&#34;restaurants-with-the-most-infractions&#34;&gt;Restaurants with the most infractions&lt;/h2&gt;
&lt;p&gt;Of the 90% of restaurants who received three visits, here are the top 5 in terms of total number of infractions:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/img/resto1.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;Surprising results. Upper Deck has some 
&lt;a href=&#34;http://www.algomapublichealth.com/inspections-environment/food-safety/restaurant-inspection-reports/?id=7e880c25-6cd5-4e01-bcf4-7ad707ae166f&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;particularly bad&lt;/a&gt; health infractions.&lt;/p&gt;
&lt;p&gt;But that got me thinking&amp;ndash;not all infractions are equal. Some are minor and are corrected onsite. Some are more serious and others still are downright strange. Let&amp;rsquo;s take a closer look.&lt;/p&gt;
&lt;h2 id=&#34;number-of-infractions&#34;&gt;Number of infractions&lt;/h2&gt;
&lt;p&gt;Here are the top 10 infractions by frequency, meaning these infractions appear most often in the dataset.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/img/resto2.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;stranger-infractions&#34;&gt;Stranger Infractions&lt;/h2&gt;
&lt;p&gt;The infractions that don&amp;rsquo;t appear frequently are also quite interesting. Here are infractions that only appear once in the dataset, but leave me with more questions than answers.&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th align=&#34;left&#34;&gt;Restaurant&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;Address&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;Date&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;Infraction&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;Juicy Beatz &amp;amp; Healthy Eatz&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;235 McNabb Street&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;2017-08-23&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Food handler hygiene&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;Pauline&amp;rsquo;s Place&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;923 Queen Street&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;2017-11-28&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Only Grade A or B eggs permitted&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;Queen West Variety&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;602 Queen Street&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;2016-12-16&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Exclusion of live animals on the premises, subject to exemptions&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;Roberta Bondar Pavilion Serving Kitchens&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;65 Foster Dr&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;2016-08-30&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;No room with food used for sleeping purposes&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;Teen Challenge Kitchen&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;1446 Great Northern Road&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;2016-12-13&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Uninspected meats obtained through hunting: only for custom cutting, wash/rinse/sanitize equipment after use as prescribed&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Questions that come to mind:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;who&amp;rsquo;s sleeping in the Pavilion?&lt;/li&gt;
&lt;li&gt;did the Teen Challenge involve catching your meal?&lt;/li&gt;
&lt;li&gt;what kind of animals are hanging out in Queen West Variety?&lt;/li&gt;
&lt;li&gt;how does one tell the grade of eggs? Can you do it just by looking?&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;What does this data tell us? Not too much really :)&lt;/p&gt;
&lt;p&gt;I hope you enjoyed this peek behind the health inspection curtain. The dataset and code are 
&lt;a href=&#34;https://github.com/colemanrob/restoscrape/tree/master/data&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;available here&lt;/a&gt;. If you have any questions or comments, please feel free to 
&lt;a href=&#34;https://twitter.com/coleman&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;get in touch&lt;/a&gt;.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>An example journal article</title>
      <link>/publication/journal-article/</link>
      <pubDate>Tue, 01 Sep 2015 00:00:00 +0000</pubDate>
      <guid>/publication/journal-article/</guid>
      <description>&lt;div class=&#34;alert alert-note&#34;&gt;
  &lt;div&gt;
    Click the &lt;em&gt;Cite&lt;/em&gt; button above to demo the feature to enable visitors to import publication metadata into their reference management software.
  &lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;alert alert-note&#34;&gt;
  &lt;div&gt;
    Click the &lt;em&gt;Slides&lt;/em&gt; button above to demo Academic&amp;rsquo;s Markdown slides feature.
  &lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Supplementary notes can be added here, including 
&lt;a href=&#34;https://sourcethemes.com/academic/docs/writing-markdown-latex/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;code and math&lt;/a&gt;.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>An example conference paper</title>
      <link>/publication/conference-paper/</link>
      <pubDate>Mon, 01 Jul 2013 00:00:00 +0000</pubDate>
      <guid>/publication/conference-paper/</guid>
      <description>&lt;div class=&#34;alert alert-note&#34;&gt;
  &lt;div&gt;
    Click the &lt;em&gt;Cite&lt;/em&gt; button above to demo the feature to enable visitors to import publication metadata into their reference management software.
  &lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;alert alert-note&#34;&gt;
  &lt;div&gt;
    Click the &lt;em&gt;Slides&lt;/em&gt; button above to demo Academic&amp;rsquo;s Markdown slides feature.
  &lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Supplementary notes can be added here, including 
&lt;a href=&#34;https://sourcethemes.com/academic/docs/writing-markdown-latex/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;code and math&lt;/a&gt;.&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>
